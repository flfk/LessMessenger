[debug] [2019-01-29T19:50:28.100Z] ----------------------------------------------------------------------
[debug] [2019-01-29T19:50:28.102Z] Command:       /usr/local/Cellar/node/10.4.1/bin/node /usr/local/bin/firebase deploy
[debug] [2019-01-29T19:50:28.103Z] CLI Version:   6.1.0
[debug] [2019-01-29T19:50:28.103Z] Platform:      darwin
[debug] [2019-01-29T19:50:28.103Z] Node Version:  v10.4.1
[debug] [2019-01-29T19:50:28.103Z] Time:          Tue Jan 29 2019 16:50:28 GMT-0300 (Argentina Standard Time)
[debug] [2019-01-29T19:50:28.104Z] ----------------------------------------------------------------------
[debug] 
[debug] [2019-01-29T19:50:28.119Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2019-01-29T19:50:28.119Z] > authorizing via signed-in user
[debug] [2019-01-29T19:50:28.119Z] [iam] checking project tagchat-bca37 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get","firebasedatabase.instances.update","firebasehosting.sites.update","firebaserules.releases.create","firebaserules.releases.update","firebaserules.rulesets.create"]
[debug] [2019-01-29T19:50:28.121Z] > refreshing access token with scopes: ["email","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","openid"]
[debug] [2019-01-29T19:50:28.121Z] >>> HTTP REQUEST POST https://www.googleapis.com/oauth2/v3/token  
 <request body omitted>
[debug] [2019-01-29T19:50:28.571Z] <<< HTTP RESPONSE 200
[debug] [2019-01-29T19:50:28.590Z] >>> HTTP REQUEST POST https://cloudresourcemanager.googleapis.com/v1/projects/tagchat-bca37:testIamPermissions  

[debug] [2019-01-29T19:50:29.783Z] <<< HTTP RESPONSE 200
[debug] [2019-01-29T19:50:29.784Z] >>> HTTP REQUEST GET https://firebase.googleapis.com/v1beta1/projects/tagchat-bca37  
 
[debug] [2019-01-29T19:50:31.168Z] <<< HTTP RESPONSE 200
[info] 
[info] === Deploying to 'tagchat-bca37'...
[info] 
[info] i  deploying database, storage, firestore, functions, hosting
[info] i  database: checking rules syntax...
[debug] [2019-01-29T19:50:32.905Z] >>> HTTP REQUEST PUT https://tagchat-bca37.firebaseio.com/.settings/rules.json?dryRun=true  
 {
  "rules": {
    ".read": "auth != null",
    ".write": "auth != null"
  }
}
[debug] [2019-01-29T19:50:34.031Z] <<< HTTP RESPONSE 200
[info] ✔  database: rules syntax for database tagchat-bca37 is valid
[debug] [2019-01-29T19:50:34.033Z] >>> HTTP REQUEST GET https://appengine.googleapis.com/v1/apps/tagchat-bca37  
 
[debug] [2019-01-29T19:50:35.665Z] <<< HTTP RESPONSE 200
[info] i  storage: checking storage.rules for compilation errors...
[debug] [2019-01-29T19:50:35.669Z] >>> HTTP REQUEST POST https://firebaserules.googleapis.com/v1/projects/tagchat-bca37:test  

[debug] [2019-01-29T19:50:36.956Z] <<< HTTP RESPONSE 200
[info] ✔  storage: rules file storage.rules compiled successfully
[info] i  firestore: checking firestore.rules for compilation errors...
[debug] [2019-01-29T19:50:36.961Z] >>> HTTP REQUEST POST https://firebaserules.googleapis.com/v1/projects/tagchat-bca37:test  

[debug] [2019-01-29T19:50:37.984Z] <<< HTTP RESPONSE 200
[info] ✔  firestore: rules file firestore.rules compiled successfully
[debug] [2019-01-29T19:50:37.985Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase serve --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "dependencies": {
    "@google-cloud/firestore": "^0.21.0",
    "firebase-admin": "~6.0.0",
    "firebase-functions": "^2.1.0"
  },
  "private": true
}
[info] i  functions: ensuring necessary APIs are enabled...
[debug] [2019-01-29T19:50:37.985Z] >>> HTTP REQUEST GET https://servicemanagement.googleapis.com/v1/services/cloudfunctions.googleapis.com/projectSettings/tagchat-bca37?view=CONSUMER_VIEW  
 
[debug] [2019-01-29T19:50:37.986Z] >>> HTTP REQUEST GET https://servicemanagement.googleapis.com/v1/services/runtimeconfig.googleapis.com/projectSettings/tagchat-bca37?view=CONSUMER_VIEW  
 
[debug] [2019-01-29T19:50:39.667Z] <<< HTTP RESPONSE 200
[debug] [2019-01-29T19:50:39.669Z] <<< HTTP RESPONSE 200
[info] ✔  functions: all necessary APIs are enabled
[debug] [2019-01-29T19:50:39.669Z] >>> HTTP REQUEST GET https://cloudresourcemanager.googleapis.com/v1/projects/tagchat-bca37  
 
[debug] [2019-01-29T19:50:40.793Z] <<< HTTP RESPONSE 200
[debug] [2019-01-29T19:50:40.794Z] >>> HTTP REQUEST GET https://mobilesdk-pa.googleapis.com/v1/projects/838327479206:getServerAppConfig  
 
[debug] [2019-01-29T19:50:41.129Z] <<< HTTP RESPONSE 200
[debug] [2019-01-29T19:50:41.130Z] >>> HTTP REQUEST POST https://firebasehosting.googleapis.com/v1beta1/sites/tagchat-bca37/versions  

[debug] [2019-01-29T19:50:43.944Z] <<< HTTP RESPONSE 200
[info] i  storage: uploading rules storage.rules...
[debug] [2019-01-29T19:50:43.947Z] >>> HTTP REQUEST POST https://firebaserules.googleapis.com/v1/projects/tagchat-bca37/rulesets  

[debug] [2019-01-29T19:50:45.257Z] <<< HTTP RESPONSE 200
[debug] [2019-01-29T19:50:45.258Z] [rules] created ruleset projects/tagchat-bca37/rulesets/cfc4d886-ca49-4dac-98dd-d81626787122
[info] i  firestore: uploading rules firestore.rules...
[debug] [2019-01-29T19:50:45.258Z] >>> HTTP REQUEST POST https://firebaserules.googleapis.com/v1/projects/tagchat-bca37/rulesets  

[debug] [2019-01-29T19:50:45.259Z] >>> HTTP REQUEST GET https://firestore.googleapis.com/v1beta1/projects/tagchat-bca37/databases/(default)/indexes  
 
[debug] [2019-01-29T19:50:46.422Z] <<< HTTP RESPONSE 200
[debug] [2019-01-29T19:50:46.422Z] [rules] created ruleset projects/tagchat-bca37/rulesets/8e66cc94-f031-4dcd-ac68-066e28521886
[debug] [2019-01-29T19:50:46.522Z] <<< HTTP RESPONSE 200
[info] 
[info] NOTE: The following indexes are already deployed but not present in the specified indexes file:
[info] [READY] (messages) -- (roomId,ASCENDING) (timestamp,DESCENDING) 
[info] [READY] (messages) -- (roomID,ASCENDING) (timestamp,DESCENDING) 
[info] 
[debug] [2019-01-29T19:50:46.524Z] Skipping existing index: {"collectionId":"messages","state":"READY","fields":[{"fieldPath":"roomID","mode":"ASCENDING"},{"fieldPath":"timestamp","mode":"ASCENDING"}]}
[info] i  functions: preparing functions directory for uploading...
[debug] [2019-01-29T19:50:46.526Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/tagchat-bca37/configs  
 
[debug] [2019-01-29T19:50:46.872Z] <<< HTTP RESPONSE 200
[info] i  functions: packaged functions (46.18 KB) for uploading
[debug] [2019-01-29T19:50:47.230Z] >>> HTTP REQUEST POST https://cloudfunctions.googleapis.com/v1/projects/tagchat-bca37/locations/us-central1/functions:generateUploadUrl  
 
[debug] [2019-01-29T19:50:48.567Z] <<< HTTP RESPONSE 200
[debug] [2019-01-29T19:50:48.568Z] >>> HTTP REQUEST PUT https://storage.googleapis.com/gcf-upload-us-central1-52cfc4e4-0bcb-4200-91f2-66bade016121/682b03fa-c31a-460a-a0c8-f01e6144b3a4.zip?GoogleAccessId=service-838327479206@gcf-admin-robot.iam.gserviceaccount.com&Expires=1548793248&Signature=x5lHImOa1iII8CaW6iyV6FZjjEQLBC8imBhDCE4UnGlMLYFaNXHk9YcIHDovUDLB%2BQixDlPRxzcPyaDQ%2Bruo1BmSuhhY65KYJdWRpQfxBKweMRFWyWJyX%2FCEQ1zAasGo0u3c%2BSGpQCp9Yx9gZceBolYuBQUiwLgJTlCPb4ZwZc7PzbFrNlbVKVYHZJRYXCSz0ZIDT2fBolZxrm8sEJWnZh%2Bs0vTqG7ZlGNlIRA3DHJCQ%2FhLARy6dsm4ehT6TpAdlGOmzobiLd1c6jRuMW%2FwU8CHsJeajMC2ENAyYFBf0btHlDiU1G771MjMPn4runO%2Fu%2FlajdmfRpWwFWX59zo%2FAog%3D%3D  

[debug] [2019-01-29T19:50:49.180Z] <<< HTTP RESPONSE 200
[info] ✔  functions: functions folder uploaded successfully
[info] i  hosting[tagchat-bca37]: beginning deploy...
[info] i  hosting[tagchat-bca37]: found 41 files in build
[debug] [2019-01-29T19:50:49.209Z] [hosting] hash cache [YnVpbGQ] load error: lines is not defined
[debug] [2019-01-29T19:50:50.899Z] [hosting] hash cache [YnVpbGQ] stored for 41 files
[debug] [2019-01-29T19:50:50.900Z] [hosting][hash queue][FINAL]
[debug] [2019-01-29T19:50:50.900Z] >>> HTTP REQUEST POST https://firebasehosting.googleapis.com/v1beta1/sites/tagchat-bca37/versions/00337ebb3f4961a7:populateFiles  
 <request body omitted>
[debug] [2019-01-29T19:50:52.687Z] <<< HTTP RESPONSE 200
[debug] [2019-01-29T19:50:52.694Z] [hosting][populate queue][FINAL]
[debug] [2019-01-29T19:50:52.694Z] [hosting] uploads queued: undefined
[debug] [2019-01-29T19:50:59.343Z] [hosting][upload queue][FINAL]
[info] ✔  hosting[tagchat-bca37]: file upload complete
[debug] [2019-01-29T19:50:59.343Z] [hosting] deploy completed after 10161ms
[info] i  database: releasing rules...
[debug] [2019-01-29T19:51:00.575Z] >>> HTTP REQUEST PUT https://tagchat-bca37.firebaseio.com/.settings/rules.json  
 {
  "rules": {
    ".read": "auth != null",
    ".write": "auth != null"
  }
}
[debug] [2019-01-29T19:51:01.393Z] <<< HTTP RESPONSE 200
[info] ✔  database: rules for database tagchat-bca37 released successfully
[debug] [2019-01-29T19:51:01.395Z] [rules] releasing firebase.storage/tagchat-bca37.appspot.com with ruleset projects/tagchat-bca37/rulesets/cfc4d886-ca49-4dac-98dd-d81626787122
[debug] [2019-01-29T19:51:01.396Z] >>> HTTP REQUEST PATCH https://firebaserules.googleapis.com/v1/projects/tagchat-bca37/releases/firebase.storage/tagchat-bca37.appspot.com  

[debug] [2019-01-29T19:51:02.724Z] <<< HTTP RESPONSE 200
[debug] [2019-01-29T19:51:02.724Z] [rules] updated release projects/tagchat-bca37/releases/firebase.storage/tagchat-bca37.appspot.com
[info] ✔  storage: released rules storage.rules to firebase.storage/tagchat-bca37.appspot.com
[debug] [2019-01-29T19:51:02.725Z] [rules] releasing cloud.firestore with ruleset projects/tagchat-bca37/rulesets/8e66cc94-f031-4dcd-ac68-066e28521886
[debug] [2019-01-29T19:51:02.725Z] >>> HTTP REQUEST PATCH https://firebaserules.googleapis.com/v1/projects/tagchat-bca37/releases/cloud.firestore  

[debug] [2019-01-29T19:51:04.006Z] <<< HTTP RESPONSE 200
[debug] [2019-01-29T19:51:04.007Z] [rules] updated release projects/tagchat-bca37/releases/cloud.firestore
[info] ✔  firestore: released rules firestore.rules to cloud.firestore
[debug] [2019-01-29T19:51:04.009Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/projects/tagchat-bca37/locations/-/functions  
 
[debug] [2019-01-29T19:51:05.431Z] <<< HTTP RESPONSE 200
[info] i  functions: updating Node.js 6 function onUserStatusChanged(us-central1)...
[debug] [2019-01-29T19:51:05.433Z] Trigger is:  {"eventTrigger":{"resource":"projects/_/instances/tagchat-bca37/refs/status/{uid}","eventType":"providers/google.firebase.database/eventTypes/ref.update","service":"firebaseio.com"}}
[debug] [2019-01-29T19:51:05.434Z] >>> HTTP REQUEST PATCH https://cloudfunctions.googleapis.com/v1/projects/tagchat-bca37/locations/us-central1/functions/onUserStatusChanged {"updateMask":"sourceUploadUrl,name,labels,eventTrigger.resource,eventTrigger.eventType,eventTrigger.service"} 

